---
layout: post
title: "AnsMonth Refactoring - 반복을 줄여라"
date: 2024-03-03 13:16:03 +0900
categories: jekyll update
---

<b>TODO</b>

- [x] 3/1 중복코드 줄이기
- [x] 3/2 입력하고 내림차순 정렬하기
- [x] 3/2 개별 데이터 삭제
- [x] 3/2 일지 전체 삭제
- [x] 3/2 합계를 맨 위로 올릴까봐
- [ ] 2월 3월 각 월마다 저장 ?? → 월별 데이터 보기 .
- [x] 리팩토링 -> 겹치는 코드
- [ ] keyboard Event 하기 -> 엔터하면 넘어가기
- [ ] 입력하고 나면 자동으로 넘어가기
      <br>

- Refactor : 일지 그리는 함수

  - table을 그리는 코드는 하드코딩으로 똑같은 코드가 반복된다. 그래서 배열 메서드를 활용해 반복문을 만드는 것처럼 구현하고 싶었다. but table을 생성하는 데이터는 객체였음.

  - 객체에 반복문을 사용할 때 Object.entires() + map() 메서드를 활용하여 코드를 구현하였다. entiers()메서드는 해당 객체의 key-value를 쌍으로 배열로 만들어준다. 이를 map을 사용해서 각 항목을 html로 변환하였다.  
    <br>
    <br>

- Refactor : 월 합계 그리는 함수

  - localStorage에서 데이터를 가지고 오고 연산을 한 뒤에 다시 업로드 하는 과정이 각각..하나씩.. 되어 있었다! 이 부분 못참지. 그래서 함수에 localStorage연산에 관한 내용을 넣고, 호출하는 방법으로 구현하였다.

  - 일지에 해당하는 내용을 합산하여 월별 합산칸에 보여줘야 한다. 이때 각 item의 누적합산을 계산해야 함 -> 데이터가 배열인지 객체인지 확인! 후 맞는 코딩을 해야함ㅋㅋ
    <br>
    <br>

- Update : 일지/합산 삭제기능 업데이트
  - 하나의 데이터를 가지고 삭제 기능을 구현했던 것이 아니라, 필요시 매번 다른 데이터를 활용해 삭제 기능을 구현했다. 이는 연산 에러로 동작...ㅠㅠ ==> 주축이 되는 데이터를 만들고 이를 업데이트 하면서 구현하였다.
  - filter 여러번 사용 ==> findIndex, entires, map사용
    <br>
    <br>

<b>THINK, CHECK</b>

- 똑같은 코드가 연속적으로 있는 모습은! 참을 수 없다!! 매번 강의만 들으면서 코딩을 하다가, 실제로 내가 필요에 의해 프로그램을 제작하게 되니 더 애착이 갔던 것 같다. 내 생각을 코드로 구현하고 기능 확인을 해봤으니, 이제는 더 나은 코드, 사람들이 보기 편한?코드가 될 수 있도록 리팩토링 할 차례라고 느꼈다. 주도적으로 개발을 해 보니 더 재미있게 느껴졌고, '더 좋은 방법이 없을까?'라는 고민을 스스로 하고 있더라 ㅋㅋㅋ

- 변수, 함수 네이밍은 여전.........히 뭐가 좋은지 아직은 잘 모르겠다. 쓰다보니 섞여 있는 부분도 많고, 바꾸자니 연결된 모든 것들을 바꿔야 하고, 아직은 짧은 코드라 몇 번 변경하기도 했지만 앞으로 작성하게 될 긴 코드에서 변수 함수 네이밍은 정말 중요한 것 같았다. 크어. 어떻게 작성하는 것이 좋은 네이밍 방법인가!!!!

- 내일은 event에 대한 부분을 업데이트 해봐야겠다<br>
  - keyboard Event 하기 -> 엔터하면 작성되는 것 ( form태그 대신 )
  - 입력하고 나면 자동으로 다음 칸으로 넘어가기


<br>

---

<br>
- <a href='https://www.notion.so/fun-blog/AnsMonth-9f37c736ab934cea9baee63766c8aa6e' target="_blank">2024.03.03 AnsMonth_TIL의 자세히보기(notion)</a>
